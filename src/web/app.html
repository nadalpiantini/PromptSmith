<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PimpPrompt - PromptSmith Web Interface</title>
    <link rel="stylesheet" href="app.css">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==">
</head>
<body class="theme-light">
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="logo">PimpPrompt</h1>
                    <span class="subtitle">Transform vibecoding into structured prompts</span>
                </div>
                <div class="header-controls">
                    <button id="theme-toggle" class="theme-toggle" title="Toggle dark mode">
                        <span class="icon-sun">‚òÄÔ∏è</span>
                        <span class="icon-moon">üåô</span>
                    </button>
                    <button id="stats-btn" class="stats-btn" title="System stats">üìä</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="input-section">
                <div class="input-header">
                    <h2>Input</h2>
                    <div class="input-controls">
                        <select id="domain-select" class="domain-select" title="Select domain for prompt optimization">
                            <option value="">Auto-detect domain</option>
                            <option value="sql">SQL</option>
                            <option value="branding">Branding</option>
                            <option value="cinema">Cinema</option>
                            <option value="saas">SaaS</option>
                            <option value="devops">DevOps</option>
                            <option value="mobile">Mobile</option>
                            <option value="web">Web</option>
                            <option value="backend">Backend</option>
                            <option value="frontend">Frontend</option>
                            <option value="ai">AI/ML</option>
                        </select>
                        <button id="clear-input" class="clear-btn" title="Clear input">üóëÔ∏è</button>
                    </div>
                </div>
                <textarea 
                    id="input-text" 
                    class="input-textarea" 
                    placeholder="Write your vibecoding here... For example:
'create login form with email validation'
'sql query users table join orders'
'marketing copy for saas product dashboard'
'devops pipeline for nodejs app'"
                    spellcheck="false"
                ></textarea>
                <div class="input-footer">
                    <div class="char-count">
                        <span id="char-count">0</span> characters
                    </div>
                    <button id="process-btn" class="process-btn" disabled>
                        <span class="btn-text">Process Prompt</span>
                        <span class="btn-spinner hidden">‚è≥</span>
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section">
                <div class="results-header">
                    <h2>Results</h2>
                    <div class="results-controls">
                        <button id="copy-result" class="copy-btn" title="Copy to clipboard" disabled>üìã</button>
                        <button id="save-prompt" class="save-btn" title="Save prompt" disabled>üíæ</button>
                        <button id="evaluate-btn" class="evaluate-btn" title="Evaluate quality" disabled>üéØ</button>
                    </div>
                </div>
                <div id="results-content" class="results-content">
                    <div class="empty-state">
                        <div class="empty-icon">üöÄ</div>
                        <p>Process your first prompt to see optimized results here</p>
                    </div>
                </div>
            </section>

            <!-- Metrics Section -->
            <section class="metrics-section hidden">
                <div class="metrics-header">
                    <h2>Quality Metrics</h2>
                </div>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Clarity</div>
                        <div class="metric-value" id="clarity-score">-</div>
                        <div class="metric-bar">
                            <div class="metric-fill" id="clarity-fill"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Specificity</div>
                        <div class="metric-value" id="specificity-score">-</div>
                        <div class="metric-bar">
                            <div class="metric-fill" id="specificity-fill"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Structure</div>
                        <div class="metric-value" id="structure-score">-</div>
                        <div class="metric-bar">
                            <div class="metric-fill" id="structure-fill"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Completeness</div>
                        <div class="metric-value" id="completeness-score">-</div>
                        <div class="metric-bar">
                            <div class="metric-fill" id="completeness-fill"></div>
                        </div>
                    </div>
                </div>
                <div class="overall-score">
                    <span class="overall-label">Overall Quality:</span>
                    <span class="overall-value" id="overall-score">-</span>
                </div>
            </section>
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>Recent Prompts</h3>
                <div id="recent-prompts" class="recent-prompts">
                    <div class="empty-state-small">
                        <p>No recent prompts</p>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3>Saved Templates</h3>
                <div id="saved-templates" class="saved-templates">
                    <div class="empty-state-small">
                        <p>No saved templates</p>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Quick Examples</h3>
                <div class="quick-examples">
                    <button class="example-btn" data-example="Create a responsive login form with email validation and password strength meter">
                        üîê Login Form
                    </button>
                    <button class="example-btn" data-example="SQL query to get users who made orders in the last 30 days with total amounts">
                        üìä SQL Query
                    </button>
                    <button class="example-btn" data-example="Marketing copy for SaaS dashboard highlighting key features and benefits">
                        üìù Marketing Copy
                    </button>
                    <button class="example-btn" data-example="DevOps pipeline for Node.js app with testing, building, and deployment stages">
                        ‚öôÔ∏è DevOps Pipeline
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Modals -->
    <div id="stats-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>System Statistics</h3>
                <button class="modal-close" data-modal="stats-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="stats-content">Loading...</div>
            </div>
        </div>
    </div>

    <div id="save-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Save Prompt</h3>
                <button class="modal-close" data-modal="save-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="save-form">
                    <div class="form-group">
                        <label for="prompt-title">Title:</label>
                        <input type="text" id="prompt-title" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="prompt-description">Description:</label>
                        <textarea id="prompt-description" class="form-textarea" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="prompt-tags">Tags (comma-separated):</label>
                        <input type="text" id="prompt-tags" class="form-input" placeholder="e.g., login, form, validation">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" data-modal="save-modal">Cancel</button>
                        <button type="submit" class="btn-primary">Save Prompt</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-section">
                <p>&copy; 2024 PimpPrompt - Powered by PromptSmith MCP</p>
                <p>Transform your vibecoding into professional prompts</p>
            </div>
            <div class="footer-links">
                <a href="/health" target="_blank">Health Check</a>
                <a href="/docs" target="_blank">API Docs</a>
                <a href="https://github.com/promptsmith/promptsmith-mcp" target="_blank" rel="noopener noreferrer">GitHub</a>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>